<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎯 Daily Dose - Wisdom, Laughs & Inspiration</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow-x: hidden;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 40px;
      border-radius: 30px;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      text-align: center;
      max-width: 900px;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .header {
      margin-bottom: 40px;
      position: relative;
    }

    h1 {
      color: white;
      font-size: 3.5em;
      font-weight: 800;
      margin-bottom: 10px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      background: linear-gradient(45deg, #fff, #f0f0f0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.3em;
      font-weight: 300;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .stat-item {
      background: rgba(255, 255, 255, 0.15);
      padding: 15px 25px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease;
    }

    .stat-item:hover {
      transform: scale(1.05);
    }

    .stat-number {
      font-size: 2em;
      font-weight: 700;
      color: white;
      display: block;
    }

    .stat-label {
      font-size: 0.9em;
      color: rgba(255, 255, 255, 0.8);
      margin-top: 5px;
    }

    .content-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 40px 0;
    }

    .content-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 30px;
      border-radius: 25px;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
    }

    .content-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
      background: rgba(255, 255, 255, 0.2);
    }

    .content-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
      background-size: 400% 100%;
      animation: colorFlow 3s linear infinite;
    }

    @keyframes colorFlow {
      0% { background-position: 0% 50%; }
      100% { background-position: 400% 50%; }
    }

    .card-icon {
      font-size: 3em;
      margin-bottom: 15px;
      display: block;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    }

    .card-title {
      color: white;
      font-size: 1.4em;
      font-weight: 600;
      margin-bottom: 20px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .content-text {
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      padding: 25px;
      border-radius: 15px;
      font-size: 1.1em;
      line-height: 1.6;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      margin-bottom: 20px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .content-text.loading {
      background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
      background-size: 400% 400%;
      animation: loadingShimmer 1.5s ease-in-out infinite;
      color: #666;
    }

    @keyframes loadingShimmer {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .content-text.error {
      background: linear-gradient(45deg, #ff6b6b, #ee5a52);
      color: white;
      font-weight: 500;
    }

    .content-text.success {
      background: linear-gradient(45deg, #00b894, #00cec9);
      color: white;
      font-weight: 500;
    }

    .action-btn {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.1em;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      font-weight: 600;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin: 5px;
    }

    .action-btn:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
      background: linear-gradient(45deg, #5a6fd8, #6a4190);
    }

    .action-btn:active {
      transform: translateY(-1px);
    }

    .action-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .action-btn:hover:not(:disabled)::before {
      left: 100%;
    }

    .mega-button {
      background: linear-gradient(45deg, #ff6b6b, #ee5a24, #fd79a8, #fdcb6e);
      background-size: 400% 400%;
      animation: megaGradient 3s ease infinite;
      font-size: 1.4em;
      padding: 25px 50px;
      margin: 30px 0;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border-radius: 60px;
      position: relative;
      overflow: hidden;
    }

    @keyframes megaGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .mega-button:hover:not(:disabled) {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }

    .floating-emojis {
      position: fixed;
      pointer-events: none;
      font-size: 2em;
      animation: float 4s ease-in-out infinite;
      z-index: 1000;
    }

    @keyframes float {
      0%, 100% { 
        transform: translateY(0px) rotate(0deg);
        opacity: 0;
      }
      10%, 90% {
        opacity: 1;
      }
      50% { 
        transform: translateY(-100px) rotate(180deg);
      }
    }

    .achievement {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(45deg, #00b894, #00cec9);
      color: white;
      padding: 15px 25px;
      border-radius: 15px;
      font-weight: 600;
      transform: translateX(100%);
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      max-width: 300px;
    }

    .achievement.show {
      transform: translateX(0);
    }

    .extra-section {
      margin-top: 40px;
      padding: 30px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .extra-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .mini-card {
      background: rgba(255, 255, 255, 0.15);
      padding: 20px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .mini-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.2);
    }

    .mini-card h4 {
      color: white;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    .mini-card .content-text {
      min-height: 80px;
      margin-bottom: 15px;
      font-size: 1em;
    }

    @media (max-width: 768px) {
      .container {
        padding: 25px;
        margin: 10px;
      }
      
      h1 {
        font-size: 2.5em;
      }
      
      .content-grid, .extra-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .stats {
        gap: 15px;
      }
      
      .stat-item {
        padding: 10px 15px;
      }

      .achievement {
        top: 10px;
        right: 10px;
        max-width: 250px;
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🎯 Daily Dose</h1>
      <p class="subtitle">Your daily fix of wisdom, laughs & inspiration</p>
    </div>

    <div class="stats">
      <div class="stat-item">
        <span class="stat-number" id="adviceCount">0</span>
        <div class="stat-label">Advice Gained</div>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="jokeCount">0</span>
        <div class="stat-label">Laughs Shared</div>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="quoteCount">0</span>
        <div class="stat-label">Inspiration Points</div>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="factCount">0</span>
        <div class="stat-label">Facts Learned</div>
      </div>
    </div>

    <div class="content-grid">
      <div class="content-card">
        <span class="card-icon">🧠</span>
        <h3 class="card-title">Life Wisdom</h3>
        <div class="content-text" id="advice">Ready for some life-changing advice?</div>
        <button class="action-btn" onclick="getAdvice()">Get Wisdom</button>
      </div>

      <div class="content-card">
        <span class="card-icon">😂</span>
        <h3 class="card-title">Daily Laughs</h3>
        <div class="content-text" id="joke">Need a good laugh? Click below!</div>
        <button class="action-btn" onclick="getJoke()">Make Me Laugh</button>
      </div>

      <div class="content-card">
        <span class="card-icon">✨</span>
        <h3 class="card-title">Inspiration</h3>
        <div class="content-text" id="quote">Ready to be inspired?</div>
        <button class="action-btn" onclick="getQuote()">Inspire Me</button>
      </div>
    </div>

    <div class="extra-section">
      <h2 style="color: white; margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">🌟 Bonus Features</h2>
      <div class="extra-grid">
        <div class="mini-card">
          <h4>🔥 Random Fact</h4>
          <div class="content-text" id="fact">Discover something amazing!</div>
          <button class="action-btn" onclick="getFact()" style="font-size: 0.9em; padding: 10px 20px;">Learn Something</button>
        </div>

        <div class="mini-card">
          <h4>🌍 Country Info</h4>
          <div class="content-text" id="country">Explore the world!</div>
          <button class="action-btn" onclick="getCountry()" style="font-size: 0.9em; padding: 10px 20px;">Explore World</button>
        </div>

        <div class="mini-card">
          <h4>🎲 Yes or No</h4>
          <div class="content-text" id="yesno">Need help deciding?</div>
          <button class="action-btn" onclick="getYesNo()" style="font-size: 0.9em; padding: 10px 20px;">Decide For Me</button>
        </div>
      </div>
    </div>

    <button class="action-btn mega-button" onclick="getAll()">
      🚀 ULTIMATE COMBO 🚀
    </button>
  </div>

  <div class="achievement" id="achievement"></div>

  <script>
    let stats = {
      advice: parseInt(sessionStorage.getItem('adviceCount') || '0'),
      jokes: parseInt(sessionStorage.getItem('jokeCount') || '0'),
      quotes: parseInt(sessionStorage.getItem('quoteCount') || '0'),
      facts: parseInt(sessionStorage.getItem('factCount') || '0')
    };

    // Fallback quotes for when API fails
    const fallbackQuotes = [
      { content: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { content: "Life is what happens to you while you're busy making other plans.", author: "John Lennon" },
      { content: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { content: "It is during our darkest moments that we must focus to see the light.", author: "Aristotle" },
      { content: "The only impossible journey is the one you never begin.", author: "Tony Robbins" },
      { content: "In the end, we will remember not the words of our enemies, but the silence of our friends.", author: "Martin Luther King Jr." },
      { content: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
      { content: "The greatest glory in living lies not in never falling, but in rising every time we fall.", author: "Nelson Mandela" },
      { content: "The way to get started is to quit talking and begin doing.", author: "Walt Disney" },
      { content: "Your time is limited, so don't waste it living someone else's life.", author: "Steve Jobs" }
    ];

    const fallbackFacts = [
      "Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly edible!",
      "Octopuses have three hearts and blue blood. Two hearts pump blood to the gills, while the third pumps blood to the rest of the body.",
      "A group of flamingos is called a 'flamboyance' - which is quite fitting for such fabulous birds!",
      "Bananas are berries, but strawberries aren't. Botanically speaking, berries must have seeds inside their flesh.",
      "The shortest war in history lasted only 38-45 minutes. It was between Britain and Zanzibar in 1896.",
      "A single cloud can weigh more than a million pounds! Despite floating in the sky, clouds are incredibly dense with water droplets.",
      "Dolphins have names for each other. They develop signature whistles that function like names in human society.",
      "There are more possible games of chess than there are atoms in the observable universe.",
      "Wombat poop is cube-shaped. They're the only known animal to produce square feces!",
      "A shrimp's heart is in its head, and it has blue blood due to copper-based hemocyanin instead of iron-based hemoglobin."
    ];

    // Update stats display
    function updateStats() {
      document.getElementById('adviceCount').textContent = stats.advice;
      document.getElementById('jokeCount').textContent = stats.jokes;
      document.getElementById('quoteCount').textContent = stats.quotes;
      document.getElementById('factCount').textContent = stats.facts;
      
      // Save to sessionStorage
      sessionStorage.setItem('adviceCount', stats.advice);
      sessionStorage.setItem('jokeCount', stats.jokes);
      sessionStorage.setItem('quoteCount', stats.quotes);
      sessionStorage.setItem('factCount', stats.facts);
    }

    // Initialize stats
    updateStats();

    // Floating emoji animation
    function createFloatingEmoji(emoji) {
      const floatingEmoji = document.createElement('div');
      floatingEmoji.className = 'floating-emojis';
      floatingEmoji.textContent = emoji;
      floatingEmoji.style.left = Math.random() * window.innerWidth + 'px';
      floatingEmoji.style.top = window.innerHeight + 'px';
      document.body.appendChild(floatingEmoji);
      
      setTimeout(() => {
        floatingEmoji.remove();
      }, 4000);
    }

    // Achievement notification
    function showAchievement(message) {
      const achievement = document.getElementById('achievement');
      achievement.textContent = message;
      achievement.classList.add('show');
      
      setTimeout(() => {
        achievement.classList.remove('show');
      }, 3000);
    }

    // Check for achievements
    function checkAchievements() {
      const total = stats.advice + stats.jokes + stats.quotes + stats.facts;
      
      if (total === 1) {
        showAchievement('🎉 First Step! Welcome to Daily Dose!');
      } else if (total === 5) {
        showAchievement('⭐ Getting Started! 5 items unlocked!');
      } else if (total === 10) {
        showAchievement('🏅 Knowledge Seeker! 10 items collected!');
      } else if (total === 25) {
        showAchievement('🏆 Wisdom Warrior! 25 items achieved!');
      } else if (total === 50) {
        showAchievement('👑 Daily Dose Master! 50 items collected!');
      } else if (total === 100) {
        showAchievement('🌟 LEGENDARY STATUS! 100 items achieved!');
      }
      
      // Individual category achievements
      if (stats.advice === 5) showAchievement('🧠 Wisdom Seeker! 5 advice pieces!');
      if (stats.jokes === 5) showAchievement('😂 Comedy Fan! 5 laughs shared!');
      if (stats.quotes === 5) showAchievement('✨ Inspiration Lover! 5 quotes absorbed!');
      if (stats.facts === 5) showAchievement('🔥 Fact Master! 5 facts learned!');
      
      if (stats.advice === 10) showAchievement('🧠 Advice Guru! 10 wisdom pieces!');
      if (stats.jokes === 10) showAchievement('😂 Comedy King/Queen! 10 laughs!');
      if (stats.quotes === 10) showAchievement('✨ Inspiration Master! 10 quotes!');
      if (stats.facts === 10) showAchievement('🔥 Fact Encyclopedia! 10 facts!');
    }

    function setLoading(elementId, message = 'Loading magic...') {
      const element = document.getElementById(elementId);
      element.textContent = message;
      element.classList.remove('error', 'success');
      element.classList.add('loading');
    }

    function clearLoading(elementId) {
      const element = document.getElementById(elementId);
      element.classList.remove('loading');
    }

    function displayError(elementId, message) {
      const element = document.getElementById(elementId);
      element.textContent = message;
      element.classList.remove('loading');
      element.classList.add('error');
    }

    function displaySuccess(elementId, message) {
      const element = document.getElementById(elementId);
      element.textContent = message;
      element.classList.remove('loading', 'error');
      element.classList.add('success');
      setTimeout(() => {
        element.classList.remove('success');
      }, 2000);
    }

    // Utility function to handle fetch with timeout
    function fetchWithTimeout(url, options = {}, timeout = 8000) {
      return Promise.race([
        fetch(url, options),
        new Promise((_, reject) => 
          setTimeout(() => reject(new Error('Request timeout')), timeout)
        )
      ]);
    }

    function getAdvice() {
      setLoading('advice', 'Consulting the wise ones...');
      createFloatingEmoji('🧠');
      
      fetchWithTimeout('https://api.adviceslip.com/advice')
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          return response.json();
        })
        .then(data => {
          clearLoading('advice');
          const advice = data.slip.advice;
          document.getElementById('advice').textContent = `"${advice}"`;
          document.getElementById('advice').classList.remove('error');
          
          stats.advice++;
          updateStats();
          checkAchievements();
        })
        .catch(error => {
          clearLoading('advice');
          displayError('advice', "The wise ones are busy. Try again soon! 🤔");
          console.error('Advice fetch error:', error);
        });
    }

    function getJoke() {
      setLoading('joke', 'Finding the perfect joke...');
      createFloatingEmoji('😂');
      
      fetchWithTimeout('https://official-joke-api.appspot.com/random_joke')
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          return response.json();
        })
        .then(data => {
          clearLoading('joke');
          const jokeText = `${data.setup}\n\n${data.punchline}`;
          document.getElementById('joke').textContent = jokeText;
          document.getElementById('joke').classList.remove('error');
          
          stats.jokes++;
          updateStats();
          checkAchievements();
        })
        .catch(error => {
          console.log('Trying backup joke API...');
          fetchWithTimeout('https://api.chucknorris.io/jokes/random')
            .then(response => {
              if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
              }
              return response.json();
            })
            .then(data => {
              clearLoading('joke');
              document.getElementById('joke').textContent = data.value;
              document.getElementById('joke').classList.remove('error');
              
              stats.jokes++;
              updateStats();
              checkAchievements();
            })
            .catch(backupError => {
              clearLoading('joke');
              displayError('joke', "The comedians are on break! Try again! 🎭");
              console.error('Joke fetch error:', backupError);
            });
        });
    }

    function getQuote() {
      setLoading('quote', 'Channeling inspiration...');
      createFloatingEmoji('✨');
      
      // Try multiple quote APIs with fallback
      Promise.race([
        fetchWithTimeout('https://zenquotes.io/api/random'),
        fetchWithTimeout('https://api.quotable.io/random'),
        fetchWithTimeout('https://quotegarden.com/api/v3/quotes/random')
      ])
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          return response.json();
        })
        .then(data => {
          clearLoading('quote');
          let quoteText = '';
          
          // Handle different API response formats
          if (Array.isArray(data) && data[0]) {
            // ZenQuotes format
            quoteText = `"${data[0].q}" — ${data[0].a}`;
          } else if (data.content && data.author) {
            // Quotable format
            quoteText = `"${data.content}" — ${data.author}`;
          } else if (data.quoteText && data.quoteAuthor) {
            // QuoteGarden format
            quoteText = `"${data.quoteText}" — ${data.quoteAuthor}`;
          } else {
            throw new Error('Invalid quote format');
          }
          
          document.getElementById('quote').textContent = quoteText;
          document.getElementById('quote').classList.remove('error');
          
          stats.quotes++;
          updateStats();
          checkAchievements();
        })
        .catch(error => {
          // Use fallback quotes
          clearLoading('quote');
          const randomQuote = fallbackQuotes[Math.floor(Math.random() * fallbackQuotes.length)];
          const quoteText = `"${randomQuote.content}" — ${randomQuote.author}`;
          document.getElementById('quote').textContent = quoteText;
          document.getElementById('quote').classList.remove('error');
          
          stats.quotes++;
          updateStats();
          checkAchievements();
          
          console.log('Using fallback quote due to API error:', error);
        });
    }

    function getFact() {
      setLoading('fact', 'Discovering amazing facts...');
      createFloatingEmoji('🔥');
      
      fetchWithTimeout('https://uselessfacts.jsph.pl/random.json?language=en')
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          return response.json();
        })
       .then(data => {
         clearLoading('fact');
         document.getElementById('fact').textContent = data.text;
         document.getElementById('fact').classList.remove('error');
         
         stats.facts++;
         updateStats();
         checkAchievements();
       })
       .catch(error => {
         // Use fallback facts
         clearLoading('fact');
         const randomFact = fallbackFacts[Math.floor(Math.random() * fallbackFacts.length)];
         document.getElementById('fact').textContent = randomFact;
         document.getElementById('fact').classList.remove('error');
         
         stats.facts++;
         updateStats();
         checkAchievements();
         
         console.log('Using fallback fact due to API error:', error);
       });
   }

   function getCountry() {
     setLoading('country', 'Exploring the globe...');
     createFloatingEmoji('🌍');
     
     fetchWithTimeout('https://restcountries.com/v3.1/all')
       .then(response => {
         if (!response.ok) {
           throw new Error(`HTTP error! Status: ${response.status}`);
         }
         return response.json();
       })
       .then(data => {
         clearLoading('country');
         const randomCountry = data[Math.floor(Math.random() * data.length)];
         const countryInfo = `🌍 ${randomCountry.name.common}\n` +
                           `🏛️ Capital: ${randomCountry.capital ? randomCountry.capital[0] : 'N/A'}\n` +
                           `👥 Population: ${randomCountry.population ? randomCountry.population.toLocaleString() : 'N/A'}\n` +
                           `🗺️ Region: ${randomCountry.region || 'N/A'}`;
         
         document.getElementById('country').textContent = countryInfo;
         document.getElementById('country').classList.remove('error');
       })
       .catch(error => {
         clearLoading('country');
         displayError('country', "The world map is loading! Try again! 🗺️");
         console.error('Country fetch error:', error);
       });
   }

   function getYesNo() {
     setLoading('yesno', 'Consulting the magic 8-ball...');
     createFloatingEmoji('🎲');
     
     fetchWithTimeout('https://yesno.wtf/api')
       .then(response => {
         if (!response.ok) {
           throw new Error(`HTTP error! Status: ${response.status}`);
         }
         return response.json();
       })
       .then(data => {
         clearLoading('yesno');
         const answer = data.answer.toUpperCase();
         const emoji = answer === 'YES' ? '✅' : answer === 'NO' ? '❌' : '🤷‍♂️';
         document.getElementById('yesno').textContent = `${emoji} ${answer} ${emoji}`;
         document.getElementById('yesno').classList.remove('error');
       })
       .catch(error => {
         clearLoading('yesno');
         const answers = ['YES ✅', 'NO ❌', 'MAYBE 🤷‍♂️'];
         const randomAnswer = answers[Math.floor(Math.random() * answers.length)];
         document.getElementById('yesno').textContent = randomAnswer;
         document.getElementById('yesno').classList.remove('error');
         console.log('Using fallback answer due to API error:', error);
       });
   }

   async function getAll() {
     const button = document.querySelector('.mega-button');
     button.disabled = true;
     button.textContent = '🚀 LOADING ULTIMATE COMBO... 🚀';
     
     createFloatingEmoji('🚀');
     createFloatingEmoji('💫');
     createFloatingEmoji('⭐');
     
     // Get all content simultaneously
     const promises = [
       new Promise(resolve => {
         getAdvice();
         setTimeout(resolve, 1000);
       }),
       new Promise(resolve => {
         getJoke();
         setTimeout(resolve, 1500);
       }),
       new Promise(resolve => {
         getQuote();
         setTimeout(resolve, 2000);
       }),
       new Promise(resolve => {
         getFact();
         setTimeout(resolve, 2500);
       })
     ];

     try {
       await Promise.all(promises);
       displaySuccess('yesno', '🎉 ULTIMATE COMBO COMPLETE! 🎉');
       showAchievement('🚀 ULTIMATE COMBO MASTER! All content loaded!');
       
       // Extra celebration
       setTimeout(() => {
         createFloatingEmoji('🎊');
         createFloatingEmoji('🎉');
         createFloatingEmoji('🌟');
       }, 500);
       
     } catch (error) {
       console.error('Ultimate combo error:', error);
     } finally {
       button.disabled = false;
       button.textContent = '🚀 ULTIMATE COMBO 🚀';
     }
   }

   // Fun Easter eggs
   let clickCount = 0;
   document.addEventListener('click', () => {
     clickCount++;
     if (clickCount === 50) {
       showAchievement('🖱️ Click Master! 50 clicks achieved!');
     } else if (clickCount === 100) {
       showAchievement('🖱️ CLICK LEGEND! 100 clicks conquered!');
     }
   });

   // Konami code easter egg
   let konamiCode = [];
   const konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]; // ↑↑↓↓←→←→BA

   document.addEventListener('keydown', (e) => {
     konamiCode.push(e.keyCode);
     if (konamiCode.length > konami.length) {
       konamiCode.shift();
     }
     
     if (konamiCode.length === konami.length && 
         konamiCode.every((code, index) => code === konami[index])) {
       showAchievement('🕹️ KONAMI CODE ACTIVATED! You found the secret!');
       document.body.style.filter = 'hue-rotate(180deg)';
       setTimeout(() => {
         document.body.style.filter = 'none';
       }, 3000);
       konamiCode = [];
     }
   });

   // Auto-refresh for dynamic background
   setInterval(() => {
     const now = new Date();
     if (now.getMinutes() === 0 && now.getSeconds() === 0) {
       showAchievement('⏰ New Hour Unlocked! Time for fresh content!');
     }
   }, 1000);
 </script>
</body>
</html>