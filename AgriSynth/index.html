<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriSynth by Vylex Nexys: The OS for Urban Agriculture</title>

    <!-- SEO Meta Tags (Combined and Refined) -->
    <meta name="description" content="AgriSynth: The new Operating System for Urban Agriculture. A decentralized, intelligent, and cooperative OS by Vylex Nexys, empowering cities to become regenerative food engines.">
    <meta name="keywords" content="urban agriculture, smart farming, AgriTech, Vylex Nexys, Avuyile Mthembu, sustainable farming, IoT farming, AI farming, decentralized food systems, regenerative agriculture, urban farming OS, Johannesburg, GrowAI, FarmChain, DroneSync">
    <meta name="author" content="Vylex Nexys, Avuyile Mthembu">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vylexnexys.co.za/AgriSynth/"> <!-- ACTUAL URL -->
    <meta property="og:title" content="AgriSynth by Vylex Nexys: The OS for Urban Agriculture">
    <meta property="og:description" content="AgriSynth is a decentralized, intelligent, and cooperative OS empowering cities to become regenerative food engines.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1605000797124-0d808d42f8a8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fHVyYmFuJTIwZmFybWluZ3xlbnwwfHwwfHw%3D&auto=format&fit=crop&w=1200&q=80"> <!-- CUSTOM OG IMAGE -->
    <meta property="og:site_name" content="AgriSynth">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://vylexnexys.co.za/AgriSynth/"> <!-- ACTUAL URL -->
    <meta name="twitter:title" content="AgriSynth by Vylex Nexys: The OS for Urban Agriculture">
    <meta name="twitter:description" content="AgriSynth is a decentralized, intelligent, and cooperative OS empowering cities to become regenerative food engines.">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1605000797124-0d808d42f8a8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fHVyYmFuJTIwZmFybWluZ3xlbnwwfHwwfHw%3D&auto=format&fit=crop&w=1200&q=80"> <!-- CUSTOM TWITTER IMAGE -->
    <meta name="twitter:creator" content="@AgriSynthApp"> <!-- Optional: Twitter Handle -->


    <!-- Favicon Placeholder -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> -->
    <!-- <link rel="manifest" href="/site.webmanifest"> -->

    <style>
        :root {
            --primary: #4CAF50; /* Green for growth */
            --primary-dark: #388E3C;
            --primary-light: #A5D6A7;
            --secondary: #8BC34A; /* Lighter Green */
            --accent: #FF9800; /* Orange for attention, harvest */
            --accent-dark: #F57C00;
            --light: #F5F5F5; /* Main light background */
            --dark: #212121;  /* Main dark text */
            --gray: #757575;
            --light-gray: #E0E0E0; /* Borders, subtle backgrounds */
            --white: #FFFFFF;
            --highlight: #FFEB3B; /* Yellow for highlight */
            
            --text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            --card-shadow: 0 8px 16px rgba(0,0,0,0.1);
            --transition: all 0.3s ease-in-out;

            /* Dark Mode Specific */
            --dm-bg: #121212;
            --dm-surface: #1e1e1e; /* Cards, sidebars */
            --dm-text: var(--light);
            --dm-text-secondary: #bdbdbd;
            --dm-primary-highlight: #8BC34A; /* Lighter green for dark bg */
            --dm-border: #3a3a3a;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: var(--text-shadow);
            z-index: 101;
            color: var(--white);
            text-decoration: none;
        }
        
        .logo .company-name {
            font-size: 0.7em;
            font-weight: normal;
            opacity: 0.9;
            display: block;
            line-height: 1;
        }
        
        .logo i {
            font-size: 2rem;
            color: var(--highlight);
        }
        
        .nav-toggle {
            display: none; 
            background: transparent;
            border: none;
            color: var(--white);
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
            width: 44px;
            height: 44px;
            position: relative;
        }
        
        .hamburger-icon { display: block; position: relative; width: 24px; height: 2px; background-color: var(--white); transition: background-color 0.1s 0.15s ease-in-out; margin: auto; }
        .hamburger-icon::before, .hamburger-icon::after { content: ''; position: absolute; left: 0; width: 100%; height: 100%; background-color: var(--white); transition: transform 0.3s ease, top 0.3s 0.1s ease; }
        .hamburger-icon::before { top: -8px; }
        .hamburger-icon::after { top: 8px; }
        
        header.nav-open .hamburger-icon { background-color: transparent; }
        header.nav-open .hamburger-icon::before { transform: rotate(45deg); top: 0; transition: top 0.3s ease, transform 0.3s 0.1s ease; }
        header.nav-open .hamburger-icon::after { transform: rotate(-45deg); top: 0; transition: top 0.3s ease, transform 0.3s 0.1s ease; }
        
        .main-nav { z-index: 100; }
        .main-nav ul { display: flex; list-style: none; gap: 1.5rem; }
        .main-nav a { color: var(--white); text-decoration: none; font-weight: 500; padding: 0.5rem 1rem; border-radius: 30px; transition: var(--transition); letter-spacing: 0.5px; position: relative; display: inline-block; }
        .main-nav a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 50%; background-color: var(--highlight); transition: var(--transition); transform: translateX(-50%); }
        .main-nav a:hover { background-color: rgba(255,255,255,0.1); }
        .main-nav a:hover::after { width: 70%; }
        
        main {
            position: relative;
            z-index: 1;
        }
        
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 30px; cursor: pointer; font-weight: 600; transition: var(--transition); text-decoration: none; display: inline-flex; align-items: center; justify-content: center; font-size: 1rem; text-align: center; letter-spacing: 0.5px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .btn i { margin-right: 0.5rem; }
        .btn-primary { background: linear-gradient(135deg, var(--accent), var(--accent-dark)); color: var(--white); }
        .btn-primary:hover { background: linear-gradient(135deg, var(--accent-dark), var(--accent)); transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
        .btn-secondary { background: linear-gradient(135deg, var(--primary-dark), var(--primary)); color: var(--white); }
        .btn-secondary:hover { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
        .btn-outline { background: transparent; border: 2px solid var(--white); color: var(--white); }
        .btn-outline:hover { background: rgba(255,255,255,0.1); transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
        .btn-sm { font-size: 0.85rem; padding: 0.5rem 1rem; }

        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1605000797124-0d808d42f8a8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fHVyYmFuJTIwZmFybWluZ3xlbnwwfHwwfHw%3D&auto=format&fit=crop&w=1600&q=80') no-repeat center center/cover;
            color: var(--white);
            padding: 8rem 0;
            text-align: center;
            min-height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.3) 100%); z-index: 1; }
        .hero .container { position: relative; z-index: 2; }
        .hero h1 { font-size: 3.5rem; margin-bottom: 1.5rem; font-weight: 700; text-shadow: var(--text-shadow); animation: fadeInUp 1s ease-out; line-height: 1.2; }
        .hero p { font-size: 1.3rem; max-width: 700px; margin: 0 auto 2.5rem; line-height: 1.7; animation: fadeInUp 1s ease-out 0.3s both; text-shadow: var(--text-shadow); }
        .hero .btn { font-size: 1.2rem; padding: 1rem 2.5rem; animation: fadeInUp 1s ease-out 0.6s both; margin: 0 0.5rem 1rem; }

        .content-section { padding: 6rem 0; text-align: center; position: relative; }
        .content-section.bg-light-gray { background-color: var(--light-gray); }
        .content-section.bg-white { background-color: var(--white); }
        
        .section-title { font-size: 2.5rem; margin-bottom: 1.5rem; color: var(--primary-dark); position: relative; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; text-align: center; }
        .section-subtitle { font-size: 1.2rem; color: var(--gray); max-width: 800px; margin: 0 auto 3.5rem; line-height: 1.8; }
        .section-title::after { content: ''; display: block; width: 70px; height: 4px; background: linear-gradient(90deg, var(--primary), var(--accent)); margin: 0.8rem auto 0; border-radius: 2px; }

        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2.5rem; text-align: left; }
        .info-card { background-color: var(--white); border-radius: 15px; padding: 2.5rem; box-shadow: var(--card-shadow); transition: var(--transition); border-bottom: 4px solid transparent; position: relative; overflow: hidden; }
        .info-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 0; background: linear-gradient(180deg, var(--primary-light) 0%, rgba(255,255,255,0) 100%); opacity: 0.2; transition: var(--transition); z-index: 0; }
        .info-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); border-bottom: 4px solid var(--primary); }
        .info-card:hover::before { height: 100%; }
        .info-card > * { position: relative; z-index: 1; }
        .info-card .card-icon { font-size: 3rem; color: var(--primary); margin-bottom: 1.5rem; display: block; text-align: center; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .info-card h3 { font-size: 1.5rem; color: var(--primary-dark); margin-bottom: 1rem; text-align: center; font-weight: 700; }
        .info-card ul { list-style: none; padding-left: 0; }
        .info-card ul li { margin-bottom: 0.8rem; padding-left: 1.8em; position: relative; font-size: 1.05rem; }
        .info-card ul li::before { content: "\f00c"; font-family: "Font Awesome 6 Free"; font-weight: 900; color: var(--primary); position: absolute; left: 0; }
        .info-card p { font-size: 1.05rem; line-height: 1.7; }

        .manifesto-section { background: linear-gradient(135deg, var(--primary-dark), #2c3e50); color: var(--white); padding: 6rem 0; position: relative; overflow: hidden; }
        .manifesto-section::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 L0,100 Z" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="0.5"/></svg>'); background-size: 20px 20px; opacity: 0.5; }
        .manifesto-section .section-title, .manifesto-section .section-subtitle { color: var(--white); }
        .manifesto-section .section-title::after { background: linear-gradient(90deg, var(--highlight), var(--accent)); }
        .manifesto-section .manifesto-points-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-top: 2.5rem; text-align: left; }
        .manifesto-point { background: rgba(255,255,255,0.05); border-left: 4px solid var(--accent); padding: 1.5rem; border-radius: 0 10px 10px 0; transition: background-color 0.3s ease; }
        .manifesto-point:hover { background: rgba(255,255,255,0.1); }
        .manifesto-point h4 { font-size: 1.2rem; color: var(--highlight); margin-bottom: 0.5rem; font-weight: 600; }
        .manifesto-point p { font-size: 1rem; line-height: 1.7; color: var(--light-gray); opacity: 0.9; }

        .about-founder { background-color: var(--white); position: relative; overflow: hidden; }
        .about-founder::before { content: ''; position: absolute; bottom: 0; right: 0; width: 300px; height: 300px; background: radial-gradient(circle, var(--primary-light) 0%, rgba(255,255,255,0) 70%); opacity: 0.3; border-radius: 50%; transform: translate(100px, 100px); }
        .founder-info { display: flex; flex-direction: column; align-items: center; gap: 1.5rem; position: relative; z-index: 1; }
        .founder-info .user-avatar-img { width: 180px; height: 180px; border-radius: 50%; object-fit: cover; border: 5px solid var(--primary); margin-bottom: 1rem; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .founder-info h3 { font-size: 2rem; color: var(--primary-dark); margin-bottom: 0.5rem; font-weight: 700; }
        .founder-info p { font-size: 1.15rem; color: var(--gray); max-width: 650px; line-height: 1.8; margin-bottom: 0.5rem; text-align: center; }
        .founder-info p em { display: block; margin-top: 1.5rem; font-style: italic; font-size: 1.2rem; color: var(--primary-dark); font-weight: 500; padding: 1rem 2rem; border-left: 4px solid var(--primary); background-color: var(--light); border-radius: 0 15px 15px 0; }

        footer { background: linear-gradient(135deg, var(--dark), #121212); color: var(--light-gray); padding: 4rem 0 3rem; text-align: center; position: relative; overflow: hidden; }
        footer::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary)); background-size: 200% 100%; animation: gradient-shift 4s linear infinite; }
        footer p { margin-bottom: 0.8rem; font-size: 1.05rem; }
        footer a { color: var(--secondary); text-decoration: none; transition: var(--transition); }
        footer a:hover { color: var(--accent); text-decoration: underline; }
        .social-links { margin-top: 1.5rem; }
        .social-links a { font-size: 1.8rem; margin: 0 0.8rem; color: var(--light-gray); transition: var(--transition); display: inline-block; }
        .social-links a:hover { color: var(--accent); transform: translateY(-5px); text-decoration: none; }

        /* App Dashboard Styles */
        .app-container { display: none; padding: 2rem 0; background-color: #f0f2f5; min-height: 100vh; }
        .dashboard { display: grid; grid-template-columns: 280px 1fr; gap: 2rem; min-height: calc(100vh - 40px); } /* Reduced top padding effect */
        .sidebar { background-color: var(--white); border-radius: 15px; box-shadow: var(--card-shadow); padding: 1.8rem; height: fit-content; position: sticky; top: 20px; }
        .user-info { display: flex; align-items: center; gap: 1rem; padding-bottom: 1.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid var(--light-gray); }
        .user-avatar { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; background-color: var(--primary); justify-content: center; color: white; font-weight: bold; font-size: 1.3rem; box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        .user-details h3 { font-size: 1.1rem; font-weight: 600; color: var(--dark); margin-bottom: 0.3rem; }
        .user-details p { font-size: 0.9rem; color: var(--gray); }
        .sidebar-menu { list-style: none; }
        .sidebar-menu li { margin-bottom: 0.7rem; }
        .sidebar-menu a { display: flex; align-items: center; gap: 0.8rem; padding: 0.9rem 1rem; border-radius: 10px; color: var(--dark); text-decoration: none; transition: var(--transition); font-weight: 500; font-size: 1.05rem; }
        .sidebar-menu a:hover, .sidebar-menu a.active { background-color: var(--primary-light); color: var(--primary-dark); }
        .sidebar-menu i { font-size: 1.3rem; color: var(--primary); width: 24px; text-align: center; }
        .main-content { background-color: var(--white); border-radius: 15px; box-shadow: var(--card-shadow); padding: 2rem; overflow: hidden; }
        .dashboard-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--light-gray); }
        .dashboard-title { font-size: 1.8rem; color: var(--primary-dark); font-weight: 700; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease-out; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.8rem; margin-bottom: 2.5rem; }
        .card { background-color: var(--light); border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08); transition: var(--transition); border: 1px solid rgba(0,0,0,0.05); }
        .card:hover { transform: translateY(-8px); box-shadow: 0 12px 24px rgba(0,0,0,0.12); }
        .card-header { padding: 1.2rem; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; font-weight: bold; font-size: 1.1rem; }
        .card-body { padding: 1.5rem; }
        .card-body p { font-size: 1rem; margin-bottom: 0.5rem; }
        .card-body ul { list-style: none; padding: 0; }
        .card-body ul li { margin-bottom: 0.5rem; display: flex; justify-content: space-between; }
        .card-footer { padding: 1.2rem; background-color: var(--light-gray); display: flex; justify-content: space-between; align-items: center; }
        .resource-card-img { height: 160px; background-color: var(--light-gray); display: flex; align-items: center; justify-content: center; font-size: 3.5rem; color: var(--primary); }
        
        .weather-widget { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem; margin-bottom: 2.5rem; }
        .weather-item { background: linear-gradient(135deg, var(--white), var(--light)); border-radius: 15px; padding: 1.5rem; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: var(--transition); border: 1px solid rgba(0,0,0,0.03); }
        .weather-item:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
        .weather-icon { font-size: 2.5rem; margin-bottom: 0.8rem; color: var(--primary); background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .weather-value { font-size: 1.4rem; font-weight: 700; margin-bottom: 0.5rem; color: var(--dark); }
        .weather-label { font-size: 0.9rem; color: var(--gray); font-weight: 500; }

        /* Sensor Data from File 1, styled for File 2's card system */
        .sensor-data-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; }
        .sensor-item { text-align: center; padding: 1rem; background: var(--primary-light); border-radius: 10px; }
        .sensor-value { font-size: 1.8rem; font-weight: bold; color: var(--primary-dark); }
        .sensor-label { font-size: 0.85rem; color: var(--dark); opacity: 0.8; }
        
        h3.dashboard-card-title { font-size: 1.3rem; color: var(--primary-dark); margin: 0 0 1.5rem; font-weight: 600; }
        
        .chart-container { height: 300px; margin-bottom: 2.5rem; position: relative; background-color: var(--light); border-radius: 15px; padding: 1.5rem; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.03); }
        .chart { width: 100%; height: 100%; display: flex; align-items: flex-end; gap: 15px; padding-bottom: 35px; }
        .chart-bar { flex: 1; background: linear-gradient(180deg, var(--primary), var(--primary-dark)); position: relative; transition: height 0.8s cubic-bezier(0.34, 1.56, 0.64, 1); min-height: 20px; border-radius: 5px 5px 0 0; }
        .chart-bar::after { content: attr(data-value); position: absolute; bottom: -30px; left: 50%; transform: translateX(-50%); font-size: 0.85rem; color: var(--dark); font-weight: 500; }
        
        .tasks-list { margin-bottom: 2.5rem; }
        .task-item { display: flex; align-items: center; padding: 1.2rem; border-bottom: 1px solid var(--light-gray); transition: var(--transition); }
        .task-item:hover { background-color: var(--light); }
        .task-item.completed .task-title { text-decoration: line-through; color: var(--gray); }
        .task-status { margin-right: 1.2rem; }
        .task-status input { width: 22px; height: 22px; cursor: pointer; accent-color: var(--primary); }
        .task-details { flex: 1; }
        .task-title { font-weight: 600; margin-bottom: 0.4rem; font-size: 1.1rem; color: var(--dark); }
        .task-meta { font-size: 0.9rem; color: var(--gray); display: flex; gap: 1.2rem; }
        .task-actions { display: flex; gap: 0.7rem; }
        
        .mobile-menu-btn { display: none; background: none; border: none; color: var(--white); font-size: 1.5rem; cursor: pointer; position: fixed; top: 15px; left: 15px; z-index: 1051; background-color: var(--primary); width: 45px; height: 45px; border-radius: 50%; box-shadow: 0 4px 10px rgba(0,0,0,0.2); align-items: center; justify-content: center; }
        .exit-prototype-btn { position: fixed; top: 15px; right: 15px; z-index: 1050; padding: 0.8rem 1.2rem; border-radius: 50px; font-size: 0.95rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 1100; align-items: center; justify-content: center; backdrop-filter: blur(5px); opacity: 0; transition: opacity 0.3s ease; }
        .modal.show { opacity: 1; }
        .modal-content { background-color: white; border-radius: 15px; width: 100%; max-width: 550px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); overflow: hidden; transform: translateY(20px); transition: transform 0.3s ease; }
        .modal.show .modal-content { transform: translateY(0); }
        .modal-header { padding: 1.5rem; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; display: flex; justify-content: space-between; align-items: center; }
        .modal-title { font-size: 1.3rem; font-weight: 600; }
        .modal-close { background: none; border: none; font-size: 1.8rem; color: white; cursor: pointer; transition: var(--transition); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        .modal-close:hover { background-color: rgba(255,255,255,0.1); }
        .modal-body { padding: 2rem; max-height: 70vh; overflow-y: auto; }
        .modal-footer { padding: 1.5rem; background-color: var(--light-gray); display: flex; justify-content: flex-end; gap: 1rem; }
        
        .form-group { margin-bottom: 1.8rem; }
        .form-label { display: block; margin-bottom: 0.7rem; font-weight: 600; color: var(--dark); }
        .form-control { width: 100%; padding: 0.9rem 1.2rem; border: 1px solid var(--light-gray); border-radius: 10px; font-size: 1rem; transition: var(--transition); background-color: var(--light); }
        .form-control:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.15); background-color: white; }
        .checkbox-group div { margin-bottom: 0.5rem; display: flex; align-items: center;}
        .checkbox-group input[type="checkbox"] { margin-right: 0.7rem; accent-color: var(--primary); width: 18px; height: 18px;}
        .checkbox-group label { font-weight: normal; }


        /* Dark mode styles */
        body.dark-mode { background-color: var(--dm-bg); color: var(--dm-text); }
        body.dark-mode header { background: linear-gradient(135deg, var(--primary-dark), #223b23); } /* Darker header */
        body.dark-mode .content-section.bg-light-gray { background-color: #181818; }
        body.dark-mode .content-section.bg-white, 
        body.dark-mode .about-founder,
        body.dark-mode .info-card { background-color: var(--dm-surface); color: var(--dm-text); }
        body.dark-mode .info-card h3,
        body.dark-mode .section-title,
        body.dark-mode .founder-info h3,
        body.dark-mode h3.dashboard-card-title,
        body.dark-mode .dashboard-title { color: var(--dm-primary-highlight); }
        body.dark-mode .section-subtitle, 
        body.dark-mode .info-card p, 
        body.dark-mode .founder-info p,
        body.dark-mode .manifesto-point p { color: var(--dm-text-secondary); }
        body.dark-mode .info-card ul li::before { color: var(--dm-primary-highlight); }
        body.dark-mode .info-card:hover { border-bottom-color: var(--dm-primary-highlight); }
        body.dark-mode .info-card::before { background: linear-gradient(180deg, var(--primary) 0%, rgba(30,30,30,0) 100%); opacity: 0.1;}
        body.dark-mode .manifesto-section { background: linear-gradient(135deg, #1a4a1a, #1e272e); }
        body.dark-mode .manifesto-section .section-title, body.dark-mode .manifesto-section .section-subtitle { color: var(--white); }
        body.dark-mode .manifesto-point h4 { color: var(--highlight); }
        body.dark-mode footer { background: linear-gradient(135deg, var(--dm-surface), #0a0a0a); color: var(--dm-text-secondary); }
        body.dark-mode footer a { color: var(--secondary); }
        body.dark-mode footer a:hover { color: var(--accent); }
        body.dark-mode .social-links a { color: var(--dm-text-secondary); }
        body.dark-mode .social-links a:hover { color: var(--accent); }
        
        /* Dark Mode for App Dashboard */
        body.dark-mode .app-container { background-color: var(--dm-bg); }
        body.dark-mode .sidebar, body.dark-mode .main-content, body.dark-mode .card, body.dark-mode .modal-content { background-color: var(--dm-surface); color: var(--dm-text); }
        body.dark-mode .card-header, body.dark-mode .modal-header { background: linear-gradient(135deg, #2c5e2e, #1a4a1a); }
        body.dark-mode .card-footer, body.dark-mode .modal-footer { background-color: #2a2a2a; }
        body.dark-mode .form-control { background-color: #2a2a2a; border-color: var(--dm-border); color: var(--dm-text); }
        body.dark-mode .form-control:focus { background-color: #333; border-color: var(--primary-dark); }
        body.dark-mode .sidebar-menu a { color: var(--dm-text); }
        body.dark-mode .sidebar-menu a:hover, body.dark-mode .sidebar-menu a.active { background-color: rgba(139, 195, 74, 0.15); color: var(--dm-primary-highlight); }
        body.dark-mode .sidebar-menu i { color: var(--dm-primary-highlight); }
        body.dark-mode .user-details h3 { color: var(--dm-text); }
        body.dark-mode .user-details p { color: var(--dm-text-secondary); }
        body.dark-mode .chart-container, body.dark-mode .weather-item { background-color: #2a2a2a; border-color: var(--dm-border); }
        body.dark-mode .weather-value { color: var(--dm-text); }
        body.dark-mode .weather-label { color: var(--dm-text-secondary); }
        body.dark-mode .sensor-item { background: rgba(139, 195, 74, 0.2); }
        body.dark-mode .sensor-value { color: var(--dm-primary-highlight); }
        body.dark-mode .sensor-label { color: var(--dm-text); }
        body.dark-mode .task-item:hover { background-color: #2a2a2a; }
        body.dark-mode .task-item.completed .task-title { color: var(--dm-text-secondary); opacity: 0.7; }
        body.dark-mode .task-title { color: var(--dm-text); }
        body.dark-mode .task-meta { color: var(--dm-text-secondary); }
        body.dark-mode .chart-bar::after { color: var(--dm-text-secondary); }
        
        /* Theme Toggle */
        .toggle-container { position: fixed; bottom: 20px; right: 20px; z-index: 1001; }
        .theme-toggle { width: 60px; height: 30px; background-color: var(--dark); border-radius: 15px; position: relative; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: var(--transition); display: flex; align-items: center; padding: 3px; }
        .theme-toggle-icon { width: 24px; height: 24px; background-color: white; border-radius: 50%; transition: var(--transition); box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; color: var(--dark); }
        .theme-toggle-icon i { font-size: 0.9rem; }
        body.dark-mode .theme-toggle { background-color: #7cb342; } /* Lighter green */
        body.dark-mode .theme-toggle-icon { background-color: var(--dm-bg); transform: translateX(30px); color: var(--white); }

        /* Toast Notification Styles */
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); padding: 1rem 1.5rem; border-radius: 8px; color: white; font-weight: 500; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 2000; opacity: 0; transition: opacity 0.3s ease, transform 0.3s ease; font-size: 0.95rem; }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .toast-success { background-color: var(--primary); }
        .toast-error { background-color: #E53935; } 
        .toast-info { background-color: #1E88E5; } 
        body.dark-mode .toast-success { background-color: var(--primary-dark); }
        body.dark-mode .toast-error { background-color: #c62828; } 
        body.dark-mode .toast-info { background-color: #0D47A1; } 
        
        /* Responsive styles */
        @media (max-width: 1024px) {
            .dashboard { grid-template-columns: 250px 1fr; }
            .hero h1 { font-size: 3rem; }
        }
        
        @media (max-width: 768px) {
            .nav-toggle { display: block; }
            .main-nav { position: absolute; top: 100%; left: 0; right: 0; background: var(--primary-dark); padding: 1rem 0; display: none; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
            body.dark-mode .main-nav { background: #223b23; }
            header.nav-open .main-nav { display: block; }
            .main-nav ul { flex-direction: column; padding: 0; margin: 0; }
            .main-nav ul li { width: 100%; }
            .main-nav ul li a { padding: 1rem 2rem; display: block; text-align: center; }
            .main-nav ul li a::after { display: none; }
            .body-no-scroll { overflow: hidden; }
            
            .hero { padding: 6rem 0; }
            .hero h1 { font-size: 2.3rem; }
            .hero p { font-size: 1.1rem; }
            .section-title { font-size: 2rem; }
            
            .dashboard { grid-template-columns: 1fr; }
            .sidebar { position: fixed; left: -300px; top: 0; height: 100vh; width: 300px; z-index: 1050; border-radius: 0; transition: left 0.3s ease; overflow-y: auto; }
            .sidebar.show { left: 0; }
            .mobile-menu-btn { display: flex; }
            .app-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1040; }
            .sidebar.show ~ .app-overlay { display: block; }
            .exit-prototype-btn { top: 15px; right: 15px; }
            .card-grid { grid-template-columns: 1fr; }
            .info-card { padding: 1.8rem; }
            .founder-info p em { padding: 1rem; }
            .modal-content { width: 90%; }
        }
        
        @media (max-width: 480px) {
            .hero h1 { font-size: 1.9rem; }
            .hero p { font-size: 1rem; }
            .btn { font-size: 0.9rem; padding: 0.7rem 1.2rem; }
            .hero .btn { font-size: 1rem; padding: 0.8rem 1.5rem; display: block; margin: 0 auto 1rem; width: 80%; }
            .section-title { font-size: 1.7rem; }
            .section-subtitle { font-size: 1rem; }
            .content-section { padding: 4rem 0; }
            .weather-widget { grid-template-columns: repeat(2, 1fr); }
            .sensor-data-grid { grid-template-columns: repeat(2, 1fr); }
            .chart-container { height: 250px; }
            .modal-body { padding: 1.5rem; }
            .modal-header { padding: 1.2rem; }
            .modal-title { font-size: 1.2rem; }
        }
        
        /* Animations */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes gradient-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* Scroll Reveal Animation */
        .animate-on-scroll { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .animate-on-scroll.is-visible { opacity: 1; transform: translateY(0); }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container header-container">
            <a href="#home" class="logo">
                <div>
                    <i class="fas fa-seedling"></i>
                    AgriSynth
                    <span class="company-name">by Vylex Nexys</span>
                </div>
            </a>
            <button class="nav-toggle" aria-label="toggle navigation" aria-expanded="false" aria-controls="main-navigation">
                <span class="hamburger-icon"></span>
            </button>
            <nav class="main-nav" id="main-navigation">
                <ul>
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="#what-is-agrisynth" class="nav-link">What is AgriSynth?</a></li>
                    <li><a href="#features" class="nav-link">Features</a></li>
                    <li><a href="#vision" class="nav-link">Our Vision</a></li>
                    <li><a href="#manifesto-section" class="nav-link">Manifesto</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- Landing Page Content -->
        <section class="landing-content">
            <div class="hero" id="home">
                <div class="container">
                    <h1>AgriSynth: The New Operating System for Urban Agriculture</h1>
                    <p>A decentralized, intelligent, and cooperative OS empowering cities to become regenerative food engines. By Vylex Nexys.</p>
                    <button class="btn btn-primary" id="explore-prototype-btn"><i class="fas fa-rocket"></i> Explore the Prototype</button>
                    <button class="btn btn-outline" id="read-manifesto-btn-hero"><i class="fas fa-scroll"></i> Read the Manifesto</button>
                </div>
            </div>

            <section id="what-is-agrisynth" class="content-section bg-white">
                <div class="container">
                    <h2 class="section-title animate-on-scroll">What is AgriSynth?</h2>
                    <p class="section-subtitle animate-on-scroll">AgriSynth is a revolutionary operating system designed specifically for urban agriculture. It's not just software ‚Äì it's a complete ecosystem that transforms how cities approach food production, community building, and sustainability.</p>
                    <div class="grid-container">
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-city card-icon"></i>
                            <h3>The Urban Challenge</h3>
                            <p>Megacities are growing, yet sustainable food access remains a critical issue. AgriSynth addresses critical urban challenges: food insecurity, underutilized spaces, lack of community cooperation, and inefficient resource management.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-cogs card-icon"></i>
                            <h3>Our Innovative Solution</h3>
                            <p>Through real-time IoT monitoring, intelligent automation, and cooperative management tools, AgriSynth turns any urban space into a productive, sustainable farming operation. Built for the Sustainable Urban Farming Cooperative model, AgriSynth enables communities to collaborate effectively.</p>
                        </div>
                         <div class="info-card animate-on-scroll">
                            <i class="fas fa-users-cog card-icon"></i>
                            <h3>Cooperative Ecosystem</h3>
                            <p>AgriSynth empowers communities to share resources efficiently and create direct farm-to-table connections that benefit both growers and consumers, fostering a resilient local food system.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="features" class="content-section bg-light-gray">
                <div class="container">
                    <h2 class="section-title animate-on-scroll">Core Features</h2>
                    <p class="section-subtitle animate-on-scroll">AgriSynth's power lies in its integrated modules, creating a seamless experience for urban farmers and communities.</p>
                    <div class="grid-container">
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-chart-bar card-icon"></i>
                            <h3>Real-time IoT Monitoring</h3>
                            <p>Advanced sensor networks monitor soil moisture, pH levels, temperature, and environmental conditions in real-time, ensuring optimal growing conditions.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-people-group card-icon"></i>
                            <h3>Cooperative Management</h3>
                            <p>Comprehensive tools for managing community farming initiatives, task assignments, member coordination, and resource sharing.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-cloud-sun-rain card-icon"></i>
                            <h3>Weather Integration</h3>
                            <p>Smart weather forecasting and automated recommendations help optimize planting schedules and crop management decisions.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-graduation-cap card-icon"></i>
                            <h3>Educational Platform</h3>
                            <p>Built-in learning resources, expert guidance, workshops, and community knowledge sharing to upskill urban farmers.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-shopping-cart card-icon"></i>
                            <h3>Direct Market Access</h3>
                            <p>Seamless connection between urban growers and local buyers, eliminating middlemen and creating sustainable economic opportunities.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-mobile-alt card-icon"></i>
                            <h3>Mobile-First Design</h3>
                            <p>Responsive, accessible interface designed for smartphones and tablets, ensuring all community members can participate.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="vision" class="content-section bg-white">
                <div class="container">
                    <h2 class="section-title animate-on-scroll">Our Vision for the Future</h2>
                    <p class="section-subtitle animate-on-scroll">We envision cities transformed into regenerative food engines where every rooftop, vacant lot, and underutilized space becomes a productive agricultural asset. AgriSynth is the catalyst for this transformation.</p>
                    <div class="grid-container">
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-network-wired card-icon"></i>
                            <h3>Decentralized Food Grids</h3>
                            <p>Every neighborhood becomes a productive node, enhancing local food security and resilience against supply chain disruptions.</p>
                        </div>
                        <div class="info-card animate-on-scroll">
                            <i class="fas fa-book-open-reader card-icon"></i>
                            <h3>Democratized Knowledge</h3>
                            <p>Farming expertise is shared openly, not gatekept, empowering everyone to grow and contribute to a sustainable food future.</p>
                        </div>
                         <div class="info-card animate-on-scroll">
                            <i class="fas fa-seedling card-icon"></i>
                            <h3>Regenerative Cities</h3>
                            <p>AI, IoT, and human collaboration make our urban centers greener, more self-sufficient, and vibrant ecological hubs.</p>
                        </div>
                    </div>
                     <p class="section-subtitle animate-on-scroll" style="margin-top: 3rem; font-size: 1.1rem;">Our platform doesn't just grow food ‚Äì it grows communities, knowledge, and hope for a more sustainable urban future.</p>
                </div>
            </section>

            <section id="manifesto-section" class="manifesto-section">
                <div class="container">
                    <h2 class="section-title animate-on-scroll">The AgriSynth Manifesto</h2>
                    <p class="section-subtitle animate-on-scroll">This is more than a project; it's a movement. AgriSynth represents more than technology ‚Äì it's a movement toward urban food sovereignty, community empowerment, and environmental regeneration.</p>
                     <div class="manifesto-points-grid">
                        <div class="manifesto-point animate-on-scroll">
                            <h4>üåç Environmental Stewardship</h4>
                            <p>Every urban farm becomes a carbon sink, biodiversity hub, and environmental education center.</p>
                        </div>
                        <div class="manifesto-point animate-on-scroll">
                            <h4>ü§ù Community Cooperation</h4>
                            <p>Technology enables authentic human connection, shared responsibility, and collective prosperity.</p>
                        </div>
                        <div class="manifesto-point animate-on-scroll">
                            <h4>üìä Data-Driven Sustainability</h4>
                            <p>Real-time insights optimize resource use, maximize yields, and minimize environmental impact.</p>
                        </div>
                        <div class="manifesto-point animate-on-scroll">
                            <h4>üéì Knowledge Democracy</h4>
                            <p>Agricultural expertise becomes accessible to all, breaking down barriers to sustainable food production.</p>
                        </div>
                        <div class="manifesto-point animate-on-scroll">
                            <h4>üíö Economic Justice</h4>
                            <p>Direct trade relationships ensure fair compensation for growers and fresh, affordable food for consumers.</p>
                        </div>
                        <div class="manifesto-point animate-on-scroll">
                            <h4>üèôÔ∏è Urban Resilience</h4>
                            <p>Decentralized food systems create food security, reduce transportation emissions, and strengthen local economies.</p>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 2.5rem;">
                        <button class="btn btn-primary" id="read-manifesto-btn-section">
                            <i class="fas fa-book-open"></i> Read the Full Manifesto Text
                        </button>
                    </div>
                </div>
            </section>
            
            <section class="content-section about-founder bg-white">
                <div class="container">
                    <div class="founder-info">
                        <h2 class="section-title animate-on-scroll">From the Founder</h2>
                        <img src="https://avuyilemthembu.co.za/assets/images/avuyile2.jpg" alt="Avuyile Mthembu" class="user-avatar-img animate-on-scroll">
                        <h3 class="animate-on-scroll">Avuyile Mthembu</h3>
                        <p class="animate-on-scroll">Visionary Technologist, Project Lead for AgriSynth.</p>
                        <p class="animate-on-scroll">Founder, Vylex Nexys (<a href="https://vylexnexys.co.za" target="_blank" rel="noopener noreferrer">vylexnexys.co.za</a>)</p>
                        <p class="animate-on-scroll"><em>"We believe AgriSynth will become the standard for smart urban farming globally, starting here in Johannesburg. Cities will no longer be just consumers; they will become regenerative engines of food production and community strength."</em></p>
                    </div>
                </div>
            </section>

            <footer id="contact">
                <div class="container">
                    <p>¬© <span id="current-year">2024</span> AgriSynth by Vylex Nexys. All Rights Reserved.</p>
                    <p>Conceptualized and Driven by Avuyile Mthembu (HSAD300-1 SA1).</p>
                    <p>Website: <a href="https://vylexnexys.co.za/AgriSynth/" target="_blank" rel="noopener noreferrer">vylexnexys.co.za/AgriSynth</a></p>
                    <p>Contact: <a href="mailto:info@vylexnexys.co.za">info@vylexnexys.co.za</a></p>
                    <div class="social-links">
                        <a href="https://twitter.com/VylexNexys" target="_blank" title="Vylex Nexys on Twitter/X" aria-label="Vylex Nexys on Twitter/X"><i class="fab fa-twitter"></i></a>
                        <a href="https://linkedin.com/company/vylex-nexys" target="_blank" title="Vylex Nexys on LinkedIn" aria-label="Vylex Nexys on LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="https://github.com/vylex" target="_blank" title="Vylex Nexys on GitHub" aria-label="Vylex Nexys on GitHub"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </footer>
        </section> <!-- END .landing-content -->

        <!-- App Dashboard (Hidden by default) -->
        <div class="app-container" id="app-dashboard">
            <button class="btn btn-secondary exit-prototype-btn" id="exit-prototype-btn"><i class="fas fa-arrow-left"></i> Exit Prototype</button>
            <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle App Menu" aria-expanded="false" aria-controls="app-sidebar"><i class="fas fa-bars"></i></button>
            
            <div class="container">
                <div class="dashboard">
                    <aside class="sidebar" id="app-sidebar">
                        <div class="user-info">
                            <div class="user-avatar" id="user-avatar-app">AM</div>
                            <div class="user-details">
                                <h3 id="user-name-app">Avuyile M.</h3>
                                <p id="user-role-app">Farm Coordinator</p>
                            </div>
                        </div>
                        <ul class="sidebar-menu">
                            <li><a href="#" class="active" data-tab="dashboard-tab"><i class="fas fa-home"></i> Dashboard</a></li>
                            <li><a href="#" data-tab="sensors-tab"><i class="fas fa-microchip"></i> Sensors</a></li>
                            <li><a href="#" data-tab="tasks-tab"><i class="fas fa-tasks"></i> Tasks</a></li>
                            <li><a href="#" data-tab="market-tab"><i class="fas fa-store"></i> Market</a></li>
                            <li><a href="#" data-tab="resources-tab"><i class="fas fa-exchange-alt"></i> Resources</a></li>
                            <li><a href="#" data-tab="learn-tab"><i class="fas fa-book"></i> Learn</a></li>
                            <li><a href="#" data-tab="settings-tab"><i class="fas fa-cog"></i> Settings</a></li>
                        </ul>
                    </aside>
                    
                    <div class="main-content">
                        <!-- Dashboard Tab -->
                        <div class="tab-content active" id="dashboard-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">AgriSynth Overview</h2>
                                <div class="dashboard-actions">
                                    <button class="btn btn-primary btn-sm" id="refresh-btn"><i class="fas fa-sync-alt"></i> Refresh Data</button>
                                </div>
                            </div>
                            
                            <div class="weather-widget">
                                <div class="weather-item">
                                    <div class="weather-icon"><i class="fas fa-temperature-high"></i></div>
                                    <div class="weather-value" id="dash-temp">22¬∞C</div>
                                    <div class="weather-label">Temperature</div>
                                </div>
                                <div class="weather-item">
                                    <div class="weather-icon"><i class="fas fa-cloud-rain"></i></div>
                                    <div class="weather-value" id="dash-humidity">65%</div>
                                    <div class="weather-label">Humidity</div>
                                </div>
                                <div class="weather-item">
                                    <div class="weather-icon"><i class="fas fa-sun"></i></div>
                                    <div class="weather-value" id="dash-uv">UV 7</div>
                                    <div class="weather-label">UV Index</div>
                                </div>
                                <div class="weather-item">
                                    <div class="weather-icon"><i class="fas fa-wind"></i></div>
                                    <div class="weather-value" id="dash-wind">12 km/h</div>
                                    <div class="weather-label">Wind</div>
                                </div>
                            </div>
                            
                            <div class="card-grid">
                                <!-- Live Sensor Readings Card (from File 1, styled) -->
                                <div class="card">
                                    <div class="card-header">Live Sensor Readings</div>
                                    <div class="card-body">
                                        <div class="sensor-data-grid">
                                            <div class="sensor-item">
                                                <div class="sensor-value" id="moisture">67%</div>
                                                <div class="sensor-label">Soil Moisture</div>
                                            </div>
                                            <div class="sensor-item">
                                                <div class="sensor-value" id="ph">6.8</div>
                                                <div class="sensor-label">pH Level</div>
                                            </div>
                                            <div class="sensor-item">
                                                <div class="sensor-value" id="light">85%</div>
                                                <div class="sensor-label">Light Level</div>
                                            </div>
                                            <div class="sensor-item">
                                                <div class="sensor-value" id="env-temp">22¬∞C</div> <!-- Renamed from File 1's temp to avoid conflict with weather temp -->
                                                <div class="sensor-label">Air Temp</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Produce Inventory Card (Inspired by File 1) -->
                                <div class="card">
                                    <div class="card-header">Produce Inventory</div>
                                    <div class="card-body">
                                        <ul>
                                            <li><span>ü•¨ Lettuce</span> <strong>12 kg ready</strong></li>
                                            <li><span>ü•ï Carrots</span> <strong>8 kg growing</strong></li>
                                            <li><span>üåø Herbs</span> <strong>3 kg ready</strong></li>
                                            <li><span>üçÖ Tomatoes</span> <strong>15 kg ripening</strong></li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Upcoming Events Card (Inspired by File 1) -->
                                 <div class="card">
                                    <div class="card-header">Upcoming Events</div>
                                    <div class="card-body">
                                        <ul style="list-style: none; padding:0;">
                                            <li style="padding-bottom: 0.5rem; margin-bottom:0.5rem; border-bottom: 1px solid var(--light-gray);"><strong>Community Harvest Day</strong><br><small>Tomorrow, 9:00 AM - Rooftop Garden A</small></li>
                                            <li style="padding-bottom: 0.5rem; margin-bottom:0.5rem; border-bottom: 1px solid var(--light-gray);"><strong>Organic Composting Workshop</strong><br><small>Friday, 2:00 PM - Community Center</small></li>
                                            <li><strong>Seed Swap Market</strong><br><small>Saturday, 10:00 AM - Main Square</small></li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Active Members Card (Inspired by File 1) -->
                                <div class="card">
                                    <div class="card-header">Community Activity</div>
                                    <div class="card-body">
                                        <p><strong>127 cooperative members</strong></p>
                                        <p>23 active today | 45 this week</p>
                                        <p style="margin-top:1rem;"><strong>Latest Activity:</strong></p>
                                        <ul style="list-style: disc; padding-left: 1.2rem; font-size:0.9rem;">
                                            <li>Sarah completed watering task.</li>
                                            <li>Mike updated carrot growth log.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <h3 class="dashboard-card-title">This Week's Tasks</h3>
                            <div class="tasks-list" id="dashboard-tasks-list">
                                <div class="task-item">
                                    <div class="task-status"><input type="checkbox" id="dash-task1"></div>
                                    <div class="task-details">
                                        <div class="task-title">Water tomato plants (Plot A)</div>
                                        <div class="task-meta"><span><i class="fas fa-calendar-alt"></i> Today</span><span><i class="fas fa-clock"></i> Morning</span></div>
                                    </div>
                                    <div class="task-actions"><button class="btn btn-sm btn-outline task-edit-btn" aria-label="Edit Task"><i class="fas fa-edit"></i></button></div>
                                </div>
                                <div class="task-item completed"> <!-- Added completed class for demo -->
                                    <div class="task-status"><input type="checkbox" id="dash-task2" checked></div>
                                    <div class="task-details">
                                        <div class="task-title">Add compost to herb garden (Community Plot)</div>
                                        <div class="task-meta"><span><i class="fas fa-calendar-alt"></i> Yesterday</span><span><i class="fas fa-clock"></i> Afternoon</span></div>
                                    </div>
                                     <div class="task-actions"><button class="btn btn-sm btn-outline task-edit-btn" aria-label="Edit Task"><i class="fas fa-edit"></i></button></div>
                                </div>
                            </div>
                            
                            <h3 class="dashboard-card-title">Soil Health Monitor (Demo)</h3>
                            <div class="chart-container">
                                <div class="chart" id="soil-chart">
                                    <div class="chart-bar" style="height: 70%;" data-value="pH 6.8"></div>
                                    <div class="chart-bar" style="height: 60%;" data-value="N 180ppm"></div>
                                    <div class="chart-bar" style="height: 40%;" data-value="P 25ppm"></div>
                                    <div class="chart-bar" style="height: 80%;" data-value="K 210ppm"></div>
                                    <div class="chart-bar" style="height: 65%;" data-value="Moisture 65%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="sensors-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">Environmental Monitoring</h2>
                                <button class="btn btn-primary btn-sm" id="add-sensor-btn"><i class="fas fa-plus"></i> Add Sensor</button>
                            </div>
                            <div class="card-grid" id="sensors-grid">
                                <div class="card">
                                    <div class="card-header">Rooftop Garden A - Soil Sensor #1</div>
                                    <div class="card-body">
                                        <p><strong>Status:</strong> <span style="color: var(--primary)">Active</span> <i class="fas fa-circle" style="color: var(--primary); font-size: 0.8em;"></i></p>
                                        <p>pH: 6.8, Moisture: 65%, Temp: 21¬∞C</p>
                                        <p><small>Last Reading: 2 mins ago</small></p>
                                    </div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary sensor-details-btn">View History</button></div>
                                </div>
                                 <div class="card">
                                    <div class="card-header">Balcony Plot B - Weather Station</div>
                                    <div class="card-body">
                                        <p><strong>Status:</strong> <span style="color: var(--primary)">Active</span> <i class="fas fa-circle" style="color: var(--primary); font-size: 0.8em;"></i></p>
                                        <p>Air Temp: 23¬∞C, Humidity: 60%, Light: 90%</p>
                                        <p><small>Last Reading: 1 min ago</small></p>
                                    </div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary sensor-details-btn">View History</button></div>
                                </div>
                            </div>
                             <p class="section-subtitle" style="font-size:1rem; margin-top: 2rem;">Detailed sensor data, historical charts, and alert configurations will be available here.</p>
                        </div>

                        <div class="tab-content" id="tasks-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">Task Scheduler & Management</h2>
                                <button class="btn btn-primary btn-sm" id="add-task-btn"><i class="fas fa-plus"></i> Add New Task</button>
                            </div>
                            <div class="tasks-list" id="all-tasks-list">
                                <div class="task-item">
                                    <div class="task-status"><input type="checkbox" id="all-task1"></div>
                                    <div class="task-details">
                                        <div class="task-title">Harvest lettuce (Plot C)</div>
                                        <div class="task-meta"><span><i class="fas fa-calendar-alt"></i> Friday</span><span><i class="fas fa-clock"></i> Morning</span> <span><i class="fas fa-user"></i> Assigned to: You</span></div>
                                    </div>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-outline task-edit-btn" aria-label="Edit Task"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-sm btn-outline task-delete-btn" aria-label="Delete Task"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                                <div class="task-item completed">
                                    <div class="task-status"><input type="checkbox" id="all-task2" checked></div>
                                    <div class="task-details">
                                        <div class="task-title">Pest check on tomato plants</div>
                                        <div class="task-meta"><span><i class="fas fa-calendar-alt"></i> Yesterday</span><span><i class="fas fa-clock"></i> All Day</span> <span><i class="fas fa-user"></i> Assigned to: Sarah P.</span></div>
                                    </div>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-outline task-edit-btn" aria-label="Edit Task"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-sm btn-outline task-delete-btn" aria-label="Delete Task"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="market-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">Local Produce Market</h2>
                                <button class="btn btn-primary btn-sm" id="add-listing-btn"><i class="fas fa-plus"></i> Add New Listing</button>
                            </div>
                            <div class="card-grid" id="market-listings-grid">
                                <div class="card">
                                    <div class="card-header">Organic Basil (Freshly Picked)</div>
                                    <div class="resource-card-img"><i class="fas fa-leaf"></i></div>
                                    <div class="card-body"><p><strong>Price:</strong> R25 / bunch (approx. 100g)</p><p><strong>Available:</strong> 15 bunches</p><p><strong>From:</strong> Rooftop Garden A</p></div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary market-action-btn">View & Purchase</button></div>
                                </div>
                                 <div class="card">
                                    <div class="card-header">Mixed Heirloom Tomatoes</div>
                                     <div class="resource-card-img"><i class="fas fa-apple-alt"></i></div> <!-- Generic fruit/veg icon -->
                                    <div class="card-body"><p><strong>Price:</strong> R40 / kg</p><p><strong>Available:</strong> 5 kg</p><p><strong>From:</strong> Community Plot C</p></div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary market-action-btn">View & Purchase</button></div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-content" id="resources-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">Shared Resources</h2>
                                <button class="btn btn-primary btn-sm" id="add-resource-btn"><i class="fas fa-plus"></i> Add Resource</button>
                            </div>
                            <div class="card-grid" id="resources-grid">
                                <div class="card">
                                    <div class="card-header">Heavy Duty Garden Shovel</div>
                                    <div class="resource-card-img"><i class="fas fa-trowel"></i></div>
                                    <div class="card-body"><p>High-quality stainless steel garden shovel. For tough soil.</p><p><strong>Owner:</strong> Community Shed</p></div>
                                    <div class="card-footer"><span><i class="fas fa-check-circle" style="color:var(--primary)"></i> Available</span><button class="btn btn-sm btn-primary">Request</button></div>
                                </div>
                                <div class="card">
                                    <div class="card-header">Electric Tiller (Small)</div>
                                    <div class="resource-card-img"><i class="fas fa-cogs"></i></div>
                                    <div class="card-body"><p>Compact electric tiller, good for raised beds.</p><p><strong>Owner:</strong> John D.</p></div>
                                    <div class="card-footer"><span><i class="fas fa-times-circle" style="color:var(--accent-dark)"></i> In Use (by Jane)</span><button class="btn btn-sm btn-secondary" disabled>Request</button></div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-content" id="learn-tab">
                           <div class="dashboard-header">
                                <h2 class="dashboard-title">Learning Hub</h2>
                                <button class="btn btn-primary btn-sm" id="share-knowledge-btn"><i class="fas fa-share-alt"></i> Share Knowledge</button>
                            </div>
                            <div class="card-grid" id="learn-articles-grid">
                                <div class="card">
                                    <div class="card-header">Guide to Balcony Gardening in Joburg</div>
                                    <div class="card-body"><p>Maximize small urban spaces for vegetable production. Covers soil, containers, and suitable crops for the Highveld climate.</p><p><strong>Type:</strong> Article | <strong>Difficulty:</strong> Beginner</p></div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary learn-action-btn">Read Article</button></div>
                                </div>
                                <div class="card">
                                    <div class="card-header">Video: Organic Pest Control Methods</div>
                                    <div class="card-body"><p>Learn natural ways to manage common garden pests without harmful chemicals. Features expert tips and DIY recipes.</p><p><strong>Type:</strong> Video (12min) | <strong>Difficulty:</strong> Intermediate</p></div>
                                    <div class="card-footer"><button class="btn btn-sm btn-primary learn-action-btn">Watch Video</button></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="settings-tab">
                            <div class="dashboard-header">
                                <h2 class="dashboard-title">Settings & Preferences</h2>
                            </div>
                            <h3 class="dashboard-card-title">Profile Settings</h3>
                            <div class="form-group">
                                <label class="form-label" for="profile-name">Name</label>
                                <input type="text" id="profile-name" class="form-control" value="Avuyile Mthembu">
                            </div>
                             <div class="form-group">
                                <label class="form-label" for="profile-email">Email</label>
                                <input type="email" id="profile-email" class="form-control" value="avuyile@example.com">
                            </div>
                            <h3 class="dashboard-card-title">Notification Settings</h3>
                            <div class="form-group checkbox-group">
                                <div><input type="checkbox" id="notify-tasks" checked> <label for="notify-tasks">Task Reminders (Email & App)</label></div>
                                <div><input type="checkbox" id="notify-market" checked> <label for="notify-market">New Market Listings (App)</label></div>
                                <div><input type="checkbox" id="notify-community"> <label for="notify-community">Community Announcements (Email)</label></div>
                            </div>
                            <button class="btn btn-primary" id="save-settings-btn" style="margin-top: 1rem;"><i class="fas fa-save"></i> Save Changes</button>
                        </div>
                    </div> <!-- END .main-content -->
                     <div class="app-overlay" id="app-overlay"></div>
                </div> <!-- END .dashboard -->
            </div> <!-- END .container for dashboard -->
        </div> <!-- END .app-container -->

        <!-- Modals -->
        <div class="modal" id="add-resource-modal"> <div class="modal-content"> <div class="modal-header"><h3 class="modal-title">Add Shared Resource</h3><button class="modal-close" data-modal-id="add-resource-modal" aria-label="Close">√ó</button></div> <div class="modal-body"> <div class="form-group"><label for="resource-name" class="form-label">Resource Name</label><input type="text" id="resource-name" class="form-control" placeholder="e.g., Garden Fork"></div> <div class="form-group"><label for="resource-type" class="form-label">Type</label><select id="resource-type" class="form-control"><option value="tool">Tool</option><option value="seed">Seeds</option><option value="compost">Compost</option><option value="other">Other</option></select></div> <div class="form-group"><label for="resource-description" class="form-label">Description</label><textarea id="resource-description" class="form-control" rows="3" placeholder="Brief description, condition, etc."></textarea></div> </div> <div class="modal-footer"><button class="btn btn-secondary modal-cancel" data-modal-id="add-resource-modal">Cancel</button><button class="btn btn-primary" id="save-resource-btn">Save Resource</button></div> </div> </div>
        <div class="modal" id="add-task-modal"> <div class="modal-content"> <div class="modal-header"><h3 class="modal-title">Add New Task</h3><button class="modal-close" data-modal-id="add-task-modal" aria-label="Close">√ó</button></div> <div class="modal-body"> <div class="form-group"><label for="task-title-input" class="form-label">Task Title</label><input type="text" id="task-title-input" class="form-control" placeholder="e.g., Water blueberry bushes"></div> <div class="form-group"><label for="task-date" class="form-label">Due Date</label><input type="date" id="task-date" class="form-control"></div> <div class="form-group"><label for="task-assignee" class="form-label">Assign To (Optional)</label><input type="text" id="task-assignee" class="form-control" placeholder="e.g., Yourself, John D."></div> </div> <div class="modal-footer"><button class="btn btn-secondary modal-cancel" data-modal-id="add-task-modal">Cancel</button><button class="btn btn-primary" id="save-task-btn">Save Task</button></div> </div> </div>
        <div class="modal" id="add-sensor-modal"> <div class="modal-content"> <div class="modal-header"><h3 class="modal-title">Add New Sensor Device</h3><button class="modal-close" data-modal-id="add-sensor-modal" aria-label="Close">√ó</button></div> <div class="modal-body"><p>This would involve a form for sensor ID, type (soil, weather), location, and connection details. (Demo for now)</p></div> <div class="modal-footer"><button class="btn btn-secondary modal-cancel" data-modal-id="add-sensor-modal">Cancel</button><button class="btn btn-primary">Pair Device</button></div> </div> </div>
        <div class="modal" id="add-listing-modal"> <div class="modal-content"> <div class="modal-header"><h3 class="modal-title">Create Market Listing</h3><button class="modal-close" data-modal-id="add-listing-modal" aria-label="Close">√ó</button></div> <div class="modal-body"><p>Form to add produce name, description, quantity, price, pickup location, etc. (Demo for now)</p></div> <div class="modal-footer"><button class="btn btn-secondary modal-cancel" data-modal-id="add-listing-modal">Cancel</button><button class="btn btn-primary">Publish Listing</button></div> </div> </div>
        <div class="modal" id="share-knowledge-modal"> <div class="modal-content"> <div class="modal-header"><h3 class="modal-title">Share Knowledge Resource</h3><button class="modal-close" data-modal-id="share-knowledge-modal" aria-label="Close">√ó</button></div> <div class="modal-body"><p>Form to submit article link, video URL, or upload a document. Include title, description, tags. (Demo for now)</p></div> <div class="modal-footer"><button class="btn btn-secondary modal-cancel" data-modal-id="share-knowledge-modal">Cancel</button><button class="btn btn-primary">Share</button></div> </div> </div>
        
        <div class="modal" id="manifesto-modal"> <div class="modal-content" style="max-width: 700px;"> <div class="modal-header"><h3 class="modal-title">The AgriSynth Manifesto</h3><button class="modal-close" data-modal-id="manifesto-modal" aria-label="Close">√ó</button></div> <div class="modal-body" style="line-height:1.8;"> <p>In an age where megacities grow taller, and food insecurity deepens in the shadows of their towers, we stand at the intersection of decay and innovation. Humanity, while more connected than ever, has become alienated from its own sustenance.</p><p>The current food system is broken: lengthy supply chains, vulnerable to disruption; excessive carbon footprints; exploitation of land and labor; and an epidemic of food waste while millions go hungry.</p><p><strong>We believe this inefficiency is not natural. It is systemic. It is solvable.</strong></p><p>We envision a world where:<ul><li>Every urban space‚Äîfrom rooftops to balconies‚Äîbecomes productive.</li><li>Communities coordinate their growing efforts for maximum impact.</li><li>Technology empowers rather than replaces human connection to the land.</li><li>Food sovereignty becomes a reality, not a slogan.</li></ul></p><p><strong>We call it AgriSynth: a decentralized, intelligent, and cooperative operating system for urban agriculture.</strong></p><p>Neither purely private nor purely public, AgriSynth is commons-based: governed by the communities who use it. Open-source, modular, and extensible.</p><p>Our MVP will launch in <strong>Johannesburg</strong>, starting with urban rooftops, IoT sensors, farming cooperatives, drone partners, and local markets. We build from the bottom up. Open-source. Transparent. Inclusive.</p><p>The time for siloed thinking is over. Soil health, community wealth, and technology must merge into a unified system that nurtures both people and planet.</p><p><strong>AgriSynth is the digital seed. You are the soil. Plant it. Water it. Watch it grow.</strong></p> </div> <div class="modal-footer"><button class="btn btn-primary modal-cancel" data-modal-id="manifesto-modal">Close</button></div> </div> </div>

    </main>

    <div class="toggle-container">
        <div class="theme-toggle" id="theme-toggle" aria-label="Toggle Dark Mode">
            <span class="theme-toggle-icon"><i class="fas fa-moon"></i></span>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const siteHeader = document.querySelector('header');
        const navToggle = document.querySelector('.nav-toggle');
        // const mainNav = document.querySelector('.main-nav'); // Not directly used, classList on header instead
        const body = document.body;
        let isSiteNavOpen = false;

        function updateHeaderPadding() {
            if (siteHeader && getComputedStyle(siteHeader).display !== 'none') {
                body.style.paddingTop = siteHeader.offsetHeight + 'px';
            } else {
                body.style.paddingTop = '0';
            }
        }

        function closeSiteNav() {
            if (siteHeader) siteHeader.classList.remove('nav-open');
            if (navToggle) navToggle.setAttribute('aria-expanded', 'false');
            body.classList.remove('body-no-scroll');
            isSiteNavOpen = false;
        }

        if (navToggle) {
            navToggle.addEventListener('click', function() {
                isSiteNavOpen = !isSiteNavOpen;
                if (siteHeader) siteHeader.classList.toggle('nav-open', isSiteNavOpen);
                navToggle.setAttribute('aria-expanded', isSiteNavOpen ? 'true' : 'false');
                body.classList.toggle('body-no-scroll', isSiteNavOpen);
            });
        }

        document.addEventListener('click', function(e) {
            if (isSiteNavOpen && siteHeader && !siteHeader.contains(e.target) && !navToggle.contains(e.target)) {
                 if (!e.target.closest('.main-nav')) { // Ensure clicking inside nav doesn't close it
                    closeSiteNav();
                }
            }
        });

        const siteNavLinks = document.querySelectorAll('.main-nav a.nav-link');
        siteNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                const targetId = link.getAttribute('href');
                if (targetId && targetId.startsWith('#') && targetId.length > 1) {
                    e.preventDefault();
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        let headerOffset = 0;
                        if (siteHeader && getComputedStyle(siteHeader).display !== 'none') {
                            headerOffset = siteHeader.offsetHeight;
                        }
                        window.scrollTo({
                            top: targetElement.offsetTop - headerOffset,
                            behavior: 'smooth'
                        });
                    }
                }
                if (isSiteNavOpen) closeSiteNav();
            });
        });

        let lastScroll = 0;
        const scrollThreshold = 5;
        window.addEventListener('scroll', () => {
            if (!siteHeader || getComputedStyle(siteHeader).display === 'none') return;
            const currentScroll = window.pageYOffset;
            
            if (currentScroll > 50) { // Add shadow and slight bg change earlier
                siteHeader.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
                let bgColor = body.classList.contains('dark-mode') ? 'rgba(34, 59, 35, 0.98)' : 'rgba(76, 175, 80, 0.98)'; // Darker green for dark mode
                siteHeader.style.backgroundColor = bgColor;
            } else {
                siteHeader.style.boxShadow = 'none';
                siteHeader.style.backgroundColor = ''; // Reverts to CSS gradient
            }

            if (Math.abs(currentScroll - lastScroll) > scrollThreshold) {
                if (currentScroll > lastScroll && currentScroll > siteHeader.offsetHeight) {
                    if (!isSiteNavOpen) siteHeader.style.transform = 'translateY(-100%)';
                } else {
                    siteHeader.style.transform = 'translateY(0)';
                }
                lastScroll = currentScroll;
            }
        });
        
        updateHeaderPadding();
        window.addEventListener('resize', updateHeaderPadding);

        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDarkMode = body.classList.contains('dark-mode');
            themeIcon.className = isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            // Adjust scrolled header color if visible and scrolled
            if (window.pageYOffset > 50 && siteHeader && getComputedStyle(siteHeader).display !== 'none') {
                 siteHeader.style.backgroundColor = isDarkMode ? 'rgba(34, 59, 35, 0.98)' : 'rgba(76, 175, 80, 0.98)';
            } else if (window.pageYOffset <= 50 && siteHeader) {
                 siteHeader.style.backgroundColor = ''; // Revert to gradient
            }
        });
        // Load saved theme
        if (localStorage.getItem('theme') === 'dark') {
            body.classList.add('dark-mode');
            themeIcon.className = 'fas fa-sun';
        }
        
        const exploreBtn = document.getElementById('explore-prototype-btn');
        const exitBtn = document.getElementById('exit-prototype-btn');
        const landingContent = document.querySelector('.landing-content');
        const appDashboard = document.getElementById('app-dashboard');
        let sensorInterval; // For sensor simulation
        
        if (exploreBtn) {
            exploreBtn.addEventListener('click', () => {
                if (landingContent) landingContent.style.display = 'none';
                if (appDashboard) appDashboard.style.display = 'block';
                if (siteHeader) siteHeader.style.display = 'none';
                updateHeaderPadding(); 
                window.scrollTo(0, 0);
                startSensorSimulation();
            });
        }
        
        if (exitBtn) {
            exitBtn.addEventListener('click', () => {
                if (appDashboard) appDashboard.style.display = 'none';
                if (landingContent) landingContent.style.display = 'block';
                if (siteHeader) siteHeader.style.display = ''; 
                updateHeaderPadding(); 
                window.scrollTo(0, 0);
                if (isAppSidebarOpen) closeAppSidebar();
                stopSensorSimulation();
            });
        }
        
        const tabLinks = document.querySelectorAll('.sidebar-menu a');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                tabLinks.forEach(l => l.classList.remove('active'));
                tabContents.forEach(t => t.classList.remove('active'));
                link.classList.add('active');
                const tabId = link.getAttribute('data-tab');
                const targetTab = document.getElementById(tabId);
                if (targetTab) targetTab.classList.add('active');
                if (isAppSidebarOpen) closeAppSidebar(); 
            });
        });
        
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const appSidebar = document.getElementById('app-sidebar');
        const appOverlay = document.getElementById('app-overlay');
        let isAppSidebarOpen = false;

        function openAppSidebar() {
            if (appSidebar) appSidebar.classList.add('show');
            if (mobileMenuBtn) mobileMenuBtn.setAttribute('aria-expanded', 'true');
            if (appOverlay) appOverlay.style.display = 'block';
            body.classList.add('body-no-scroll');
            isAppSidebarOpen = true;
        }
        function closeAppSidebar() {
            if (appSidebar) appSidebar.classList.remove('show');
            if (mobileMenuBtn) mobileMenuBtn.setAttribute('aria-expanded', 'false');
            if (appOverlay) appOverlay.style.display = 'none';
            body.classList.remove('body-no-scroll');
            isAppSidebarOpen = false;
        }

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                isAppSidebarOpen ? closeAppSidebar() : openAppSidebar();
            });
        }
        if (appOverlay) {
            appOverlay.addEventListener('click', () => {
                if (isAppSidebarOpen) closeAppSidebar();
            });
        }
        
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('show'), 10);
            body.style.overflow = 'hidden';
        }
        
        function closeModal(modalOrId) {
            const modal = (typeof modalOrId === 'string') ? document.getElementById(modalOrId) : modalOrId;
            if (!modal) return;
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                // Only restore body scroll if no other modals are open
                if (document.querySelectorAll('.modal.show').length === 0) {
                    body.style.overflow = '';
                }
            }, 300);
        }

        document.querySelectorAll('[data-modal-id]').forEach(el => {
            el.addEventListener('click', function() {
                const modalId = this.dataset.modalId;
                if (this.classList.contains('modal-close') || this.classList.contains('modal-cancel')) {
                    closeModal(modalId);
                }
            });
        });
        
        ['add-resource-btn', 'add-task-btn', 'add-sensor-btn', 'add-listing-btn', 'share-knowledge-btn'].forEach(id => {
            const btn = document.getElementById(id);
            if (btn) {
                const modalId = id.replace('-btn', '-modal');
                btn.addEventListener('click', (e) => {
                     e.preventDefault(); 
                     openModal(modalId);
                });
            }
        });
        // Manifesto modal openers
        ['read-manifesto-btn-hero', 'read-manifesto-btn-section'].forEach(id => {
            const btn = document.getElementById(id);
            if(btn) btn.addEventListener('click', () => openModal('manifesto-modal'));
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.show').forEach(closeModal);
            }
        });

        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal(modal);
            });
        });

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Sensor data simulation (from File 1, adapted)
        function startSensorSimulation() {
            if (sensorInterval) clearInterval(sensorInterval); // Clear existing interval if any
            sensorInterval = setInterval(() => {
                const moistureEl = document.getElementById('moisture');
                const phEl = document.getElementById('ph');
                const envTempEl = document.getElementById('env-temp'); // Note: Renamed from 'temp' in File 1
                const lightEl = document.getElementById('light');

                if(moistureEl) moistureEl.textContent = Math.floor(Math.random() * 20 + 55) + '%'; // 55-75%
                if(phEl) phEl.textContent = (Math.random() * 1.4 + 6.2).toFixed(1); // 6.2-7.6
                if(envTempEl) envTempEl.textContent = Math.floor(Math.random() * 8 + 18) + '¬∞C'; // 18-26¬∞C
                if(lightEl) lightEl.textContent = Math.floor(Math.random() * 20 + 75) + '%'; // 75-95%
            }, 3000);
        }

        function stopSensorSimulation() {
            if (sensorInterval) {
                clearInterval(sensorInterval);
                sensorInterval = null;
            }
        }

        // App Interactivity
        const refreshBtn = document.getElementById('refresh-btn');
        if (refreshBtn) {
            refreshBtn.addEventListener('click', function() {
                const icon = this.querySelector('i');
                icon.classList.add('fa-spin');
                
                // Simulate weather update
                ['dash-temp', 'dash-humidity', 'dash-uv', 'dash-wind'].forEach(id => {
                    const el = document.getElementById(id);
                    if(el) {
                        const currentText = el.textContent; el.textContent = '...';
                        setTimeout(() => {
                            if (id === 'dash-temp') el.textContent = (Math.floor(Math.random() * 10) + 18) + '¬∞C';
                            else if (id === 'dash-humidity') el.textContent = (Math.floor(Math.random() * 50) + 40) + '%';
                            else if (id === 'dash-uv') el.textContent = 'UV ' + (Math.floor(Math.random() * 6) + 2);
                            else if (id === 'dash-wind') el.textContent = (Math.floor(Math.random() * 15) + 5) + ' km/h';
                            else el.textContent = currentText; // Fallback
                        }, 800);
                    }
                });
                // Simulate chart update
                document.querySelectorAll('#soil-chart .chart-bar').forEach(bar => {
                    bar.style.height = '0%';
                    setTimeout(() => bar.style.height = (Math.floor(Math.random() * 70) + 20) + '%', Math.random() * 500 + 300);
                });
                // Trigger one quick sensor update
                if (typeof startSensorSimulation === "function" && typeof stopSensorSimulation === "function") {
                     stopSensorSimulation(); startSensorSimulation(); // restart to get immediate values
                }

                setTimeout(() => icon.classList.remove('fa-spin'), 1200);
                showToast('Dashboard data refreshed!', 'info');
            });
        }
        
        const saveResourceBtn = document.getElementById('save-resource-btn');
        if (saveResourceBtn) {
            saveResourceBtn.addEventListener('click', () => {
                const name = document.getElementById('resource-name').value;
                if (!name) { showToast('Resource name is required.', 'error'); return; }
                
                const newCard = document.createElement('div');
                newCard.className = 'card';
                newCard.innerHTML = `<div class="card-header">${name}</div><div class="resource-card-img"><i class="fas fa-tools"></i></div><div class="card-body"><p>${document.getElementById('resource-description').value || 'Newly added resource.'}</p><p><strong>Owner:</strong> You</p></div><div class="card-footer"><span><i class="fas fa-check-circle" style="color:var(--primary)"></i> Available</span><button class="btn btn-sm btn-primary">Request</button></div>`;
                
                const grid = document.getElementById('resources-grid');
                if (grid) grid.appendChild(newCard);
                
                document.getElementById('resource-name').value = '';
                document.getElementById('resource-description').value = '';
                closeModal('add-resource-modal');
                showToast('Resource added successfully!', 'success');
            });
        }

        const saveTaskBtn = document.getElementById('save-task-btn');
        if (saveTaskBtn) {
            saveTaskBtn.addEventListener('click', () => {
                const title = document.getElementById('task-title-input').value;
                if (!title) { showToast('Task title is required.', 'error'); return; }
                const date = document.getElementById('task-date').value;
                const assignee = document.getElementById('task-assignee').value || 'Unassigned';

                const newTaskItem = document.createElement('div');
                newTaskItem.className = 'task-item';
                const taskId = 'task-' + Date.now();
                newTaskItem.innerHTML = `<div class="task-status"><input type="checkbox" id="${taskId}"></div><div class="task-details"><div class="task-title">${title}</div><div class="task-meta"><span><i class="fas fa-calendar-alt"></i> ${date || 'Anytime'}</span><span><i class="fas fa-user"></i> ${assignee}</span></div></div><div class="task-actions"><button class="btn btn-sm btn-outline task-edit-btn" aria-label="Edit Task"><i class="fas fa-edit"></i></button><button class="btn btn-sm btn-outline task-delete-btn" aria-label="Delete Task"><i class="fas fa-trash"></i></button></div>`;
                
                const list = document.getElementById('all-tasks-list');
                if (list) list.appendChild(newTaskItem);
                
                document.getElementById('task-title-input').value = '';
                document.getElementById('task-date').value = '';
                document.getElementById('task-assignee').value = '';
                closeModal('add-task-modal');
                showToast('Task added successfully!', 'success');
            });
        }

        ['all-tasks-list', 'dashboard-tasks-list'].forEach(listId => {
            const taskList = document.getElementById(listId);
            if (taskList) {
                taskList.addEventListener('change', function(e) {
                    if (e.target.matches('input[type="checkbox"]')) {
                        const taskItem = e.target.closest('.task-item');
                        if (taskItem) taskItem.classList.toggle('completed', e.target.checked);
                    }
                });
                taskList.addEventListener('click', function(e) {
                    const targetButton = e.target.closest('button.task-edit-btn, button.task-delete-btn');
                    if (!targetButton) return;

                    if (targetButton.classList.contains('task-edit-btn')) {
                        showToast('Edit task feature coming soon!', 'info');
                    } else if (targetButton.classList.contains('task-delete-btn')) {
                        if (confirm('Are you sure you want to delete this task? (Demo)')) {
                            targetButton.closest('.task-item').remove();
                            showToast('Task deleted', 'info');
                        }
                    }
                });
            }
        });
        document.querySelectorAll('.tasks-list input[type="checkbox"]:checked').forEach(cb => {
            const taskItem = cb.closest('.task-item');
            if (taskItem) taskItem.classList.add('completed');
        });

        const saveSettingsBtn = document.getElementById('save-settings-btn');
        if (saveSettingsBtn) {
            saveSettingsBtn.addEventListener('click', () => {
                showToast('Settings saved (demo)!', 'success');
            });
        }
        
        document.addEventListener('click', function(e){
            if (e.target.closest('.sensor-details-btn')) showToast('Viewing sensor details (demo).', 'info');
            if (e.target.closest('.market-action-btn')) showToast('Market action (demo).', 'info');
            if (e.target.closest('.learn-action-btn')) showToast('Opening learning resource (demo).', 'info');
        });

        const animatedElements = document.querySelectorAll('.animate-on-scroll');
        if ("IntersectionObserver" in window) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });
            animatedElements.forEach(el => {
                observer.observe(el);
            });
        } else { 
            animatedElements.forEach(el => el.classList.add('is-visible'));
        }

    });
    </script>
</body>
</html>
